title: 如何处理评论的回复的性能问题
tags:
  - 百度面试题
id: 175
categories:
  - mysql
  - PHP笔试题
  - redis
date: 2014-12-26 13:01:07
---

&nbsp;

在有大量并发评论产生的时候，直接insert到mysql 可能扛不住。

可以先放到nosql中，利用队列插入数据库。

但是，会出现一个问题：如果我对一个评论进行回复，而被回复的评论还在队列里面，未产生mysql的递增ID，那我这个回复给谁的如何记录呢？