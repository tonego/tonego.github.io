
## Go 基础类
9、Go 语言当中 Channel(通道)有什么特点，需要注意什么?
如果给一个 nil 的 channel 发送数据，会造成永远阻塞。
如果从一个 nil 的 channel 中接收数据，也会造成永久阻塞。 
给一个已经关闭的 channel 发送数据， 会引起 panic
从一个已经关闭的 channel 接收数据， 如果缓冲区中为空，则返回一个零 值。


12、Go Convey 是什么?一般用来做什么?
⚫ go convey 是一个支持 Golang 的单元测试框架
⚫ go convey 能够自动监控文件修改并启动测试，并可以将测试结果实时输出
到Web界面
⚫ go convey 提供了丰富的断言简化测试用例的编写

17、Go 语言当中值传递和地址传递(引用传递)如何运用?有什 么区别?举例说明
1. 值传递只会把参数的值复制一份放进对应的函数，两个变量的地址不同， 不可相互修改。
2. 地址传递(引用传递)会将变量本身传入对应的函数，在函数中可以对该变 量进行值内容的修改。

18、Go 语言当中数组和切片在传递的时候的区别是什么?
1. 数组是值传递
2. 切片看上去像是引用传递，但其实是值传递

21、Golang Slice 的底层实现
切片本身是一 个只读对象，其工作机制类似数组指针的一种封装。

22、Golang Slice 的扩容机制，有什么注意点?
Go 中切片扩容的策略是这样的:
⚫ 首先判断，如果新申请容量大于2倍的旧容量，最终容量就是新申请的容 量
⚫ 否则判断，如果旧切片的长度小于1024，则最终容量就是旧容量的两倍
⚫ 否则判断，如果旧切片长度大于等于1024，则最终容量从旧容量开始循环
增加原来的 1/4, 直到最终容量大于等于新申请的容量
⚫ 如果最终容量计算值溢出，则最终容量就是新申请容量

23、扩容前后的 Slice 是否相同?
要复制一个 Slice，最好使用 Copy 函数。

24、Golang 的参数传递、引用类型
Go 语言中所有的传参都是值传递(传值)，都是一个副本，一个拷贝。因为拷 贝的内容有时候是非引用类型(int、string、struct 等这些)，这样就在函 数中就无法修改原内容数据;有的是引用类型(指针、map、slice、chan 等这 些)，这样就可以修改原内容数据。
Golang 的引用类型包括 slice、map 和 channel。它们有复杂的内部结构，除 了申请内存外，还需要初始化相关属性。内置函数 new 计算类型大小，为其分 配零值内存，返回指针。而 make 会被编译器翻译成具体的创建函数，由其分 配内存和初始化成员结构，返回对象而非指针。

25、Golang Map 底层实现
Golang 中 map 的底层实现是一个散列表，因此实现 map 的过程实际上就是实现 散表的过程。在这个散列表中，主要出现的结构体有两个，一个叫 hmap(a header for a go map)，一个叫 bmap(a bucket for a Go map，通常叫其 bucket)。

26、Golang Map 如何扩容
1. 双倍扩容:扩容采取了一种称为“渐进式”的方式，原有的 key 并不会一 次性搬迁完毕，每次最多只会搬迁 2 个 bucket。
2. 等量扩容:重新排列，极端情况下，重新排列也解决不了，map存储就会蜕 变成链表，性能大大降低，此时哈希因子 hash0 的设置，可以降低此类极 端场景的发生。

27、Golang Map 查找
Go 语言中 map 采用的是哈希查找表，由一个 key 通过哈希函数得到哈希值，64 位系统中就生成一个 64bit 的哈希值，由这个哈希值将 key 对应存到不同的桶 (bucket)中，当有多个哈希映射到相同的的桶中时，使用链表解决哈希冲 突。
细节:key 经过 hash 后共 64 位，根据 hmap 中 B 的值，计算它到底要落在哪个 桶时，桶的数量为 2^B，如 B=5，那么用 64 位最后 5 位表示第几号桶，在用 hash 值的高 8 位确定在 bucket 中的存储位置，当前 bmap 中的 bucket 未找 到，则查询对应的 overflow bucket，对应位置有数据则对比完整的哈希值， 确定是否是要查找的数据。如果当前 map 处于数据搬移状态，则优先从 oldbuckets 查找。

28、介绍一下 Channel
channel 收发遵循先进先出 FIFO 的原则。分为有缓冲区和无缓冲区，channel 中包括 buffer、sendx 和 recvx 收发的位置(ring buffer 记录实现)、sendq、 recv。当 channel 因为缓冲区不足而阻塞了队列，则使用双向链表存储。

29、Channel 的 ring buffer 实现

## Go 并发编程
1、Mutex 几种状态
⚫ mutexLocked — 表示互斥锁的锁定状态;
⚫ mutexWoken — 表示从正常模式被从唤醒;
⚫ mutexStarving — 当前的互斥锁进入饥饿状态;
⚫ waitersCount — 当前互斥锁上等待的 Goroutine 个数


2、Mutex 正常模式和饥饿模式
饥饿模式的触发条件:当一个 goroutine 等待锁时间超过 1 毫秒时，或者当前 队列只剩下一个 goroutine 的时候，Mutex 切换到饥饿模式。

3、Mutex 允许自旋的条件
4、RWMutex 实现

## GO RUNTIME
1、GOROUTINE 定义. 
2、GMP 指的是什么  
3、1.0 之前 GM 调度模型 
4、GMP 调度流程  
5、GMP 中 WORK STEALING 机制 
6、GMP 中 HAND OFF 机制 
把P给其他M运行。
7、协作式的抢占式调度  
8、基于信号的抢占式调度 . 
9、GMP 调度过程中存在哪些阻塞  
10、SYSMON 有什么作用. 
11、三色标记原理 . 
12、写屏障  
防止误GC
13、插入写屏障 
Go GC 在混合写屏障之前，一直是插入写屏障，由于栈赋值没有 hook 的原 因，栈中没有启用写屏障，所以有 STW。Golang 的解决方法是:只是需要在结 束时启动 STW 来重新扫描栈。这个自然就会导致整个进程的赋值器卡顿。
14、 删除写屏障  
15、混合写屏障  
新对象，均为黑色； 扫描精度低； 停止个例的 goroutine 赋值器的工作；
16、GC 触发时机 
runtime.forcegcperiod 变量控制，默认为 2 分 钟。步调(Pacing)算法。
17、GO 语言中 GC 的流程是什么?  
18、GC 如何调优 
通过 go tool pprof 和 go tool trace ；控制内存分配的速度，限制 Goroutine 的数量；减少并复用内存，例如使用 sync.Pool ；增大 GOGC 的值；


## 微服务. 
1、您对微服务有何了解? . 
2、说说微服务架构的优势 . 
3、微服务有哪些特点?  
4、设计微服务的最佳实践是什么? . 
5、微服务架构如何运作? . 
6、微服务架构的优缺点是什么? . 
7、单片，SOA 和微服务架构有什么区别?  
8、在使用微服务架构时，您面临哪些挑战?  
9、SOA 和微服务架构之间的主要区别是什么? . 
10、微服务有什么特点? 
11、什么是领域驱动设计? . 
12、为什么需要域驱动设计(DDD)? . 
13、什么是无所不在的语言?  
14、什么是凝聚力? . 
15、什么是耦合? . 42
16、什么是 REST / RESTFUL 以及它的用途是什么? 
17、什么是不同类型的微服务测试?  

## 容器技术
1、为什么需要 DEVOPS. 
2、 DOCKER 是什么?. 
3、 DEVOPS 有哪些优势? . 
4、CI 服务有什么用途? 
5、如何使用 DOCKER 技术创建与环境无关的容器系统? . 
6、DOCKERFILE 配置文件中的 COPY 和 ADD 指令有什么不同?  
7、 DOCKER 映像(IMAGE)是什么? . 
8、DOCKER 容器(CONTAINER)是什么? 
9、DOCKER 中心(HUB)什么概念? 
10、在任意给定时间点指出一个 DOCKER 容器可能存在的运行阶段? 
11、 有什么方法确定一个 DOCKER 容器运行状态?  
12 、在 DOCKERFILE 配置文件中最常用的指令有哪些? 
13、 什么类型的应用(无状态性或有状态性)更适合 DOCKER 容器技术? . 
14、 解释基本 DOCKER 应用流程 . 
15、DOCKER IMAGE 和 DOCKER LAYER (层) 有什么不同? . 
16、虚拟化技术是什么? 
17、虚拟管理层(程序)是什么? . 
18、DOCKER 群(SWARM)是什么?  
19、在使用 DOCKER 技术的产品中如何监控其运行?  
20 、什么是孤儿卷及如何删除它?  
21、什么是半虚拟化(PARAVIRTUALIZATION)?  
22、DOCKER 技术与虚拟机技术有何不同?
23、请解释一下 DOCERFILE 配置文件中的 ONBUILD 指令的用途含义?  
24、有否在创建有状态性的 DOCKER 应用的较好实践? 最适合的场景有什么?  
25、在 WINDOWS 系统上可以运行原生的 DOCKER 容器吗? . 
26、在非 LINUX 操作系统平台上如何运行 DOCKER ?  
27、容器化技术在底层的运行原理?  
28、说说容器化技术与虚拟化技术的优缺点. 
29、如何使 DOCKER 适应多种运行环境? . 
30、为什么 DOCKER COMPOSE 采取的是并不等待前面依赖服务项的容器启动就绪后再启动的 组合容器启动策略? . 57

## REDIS  
1、什么是 REDIS? . 
2、REDIS 的数据类型? . 
3、使用 REDIS 有哪些好处?. 
4、REDIS 相比 MEMCACHED 有哪些优势?. 
5、MEMCACHE 与 REDIS 的区别都有哪些?. 
6、REDIS 是单进程单线程的? . 
7、一个字符串类型的值能存储最大容量是多少? . 
8、REDIS 的持久化机制是什么?各自的优缺点?  
9、REDIS 常见性能问题和解决方案: . 
10、REDIS 过期键的删除策略?. 
11、REDIS 的回收策略(淘汰策略)? . 
12、为什么 REDIS 需要把所有数据放到内存中? . 
13、REDIS 的同步机制了解么?. 
14、PIPELINE 有什么好处，为什么要用 PIPELINE?  
15、是否使用过 REDIS 集群，集群的原理是什么?. 
16、REDIS 集群方案什么情况下会导致整个集群不可用? 
17、REDIS 支持的 JAVA 客户端都有哪些?官方推荐用哪个?  
18、JEDIS 与 REDISSON 对比有什么优缺点?  
19、REDIS 如何设置密码及验证密码?. 
20、说说 REDIS 哈希槽的概念? 
21、REDIS 集群的主从复制模型是怎样的? 
22、REDIS 集群会有写操作丢失吗?为什么?.
23、REDIS 集群之间是如何复制的? . 
24、REDIS 集群最大节点个数是多少?. 
25、REDIS 集群如何选择数据库?  
26、怎么测试 REDIS 的连通性  
27、怎么理解 REDIS 事务? . 
28、REDIS 事务相关的命令有哪几个?. 
29、REDIS KEY 的过期时间和永久有效分别怎么设置?. 
30、REDIS 如何做内存优化? . 
31、REDIS 回收进程如何工作的?  
32、都有哪些办法可以降低 REDIS 的内存使用情况呢? . 
33、REDIS 的内存用完了会发生什么?. 
34、一个 REDIS 实例最多能存放多少的 KEYS? LIST、SET、SORTED SET 他们最多能存放多少元 素? . 
35、MYSQL 里有 2000W 数据，REDIS 中只存 20W 的数据，如何保证 REDIS 中的数据都是热点 数据?REDIS 内存数据集大小上升到一定大小的时候，就会施行数据淘汰策略。 
36、REDIS 最适合的场景?  
37、假如 REDIS 里面有 1 亿个 KEY，其中有 10W 个 KEY 是以某个固定的已知的前缀开头的，如 果将它们全部找出来?  
38、如果有大量的 KEY 需要设置同一时间过期，一般需要注意什么? . 
39、使用过 REDIS 做异步队列么，你是怎么用的?. 
40、使用过 REDIS 分布式锁么，它是什么回事  

## MYSQL . 
1、据库三大范式是什么  
2、MYSQL 有关权限的表都有哪几个? . 
3、MYSQL 的 BINLOG 有有几种录入格式?分别有什么区别?  
4、MYSQL 存储引擎 MYISAM 与 INNODB 区别. 
5、MYISAM 索引与 INNODB 索引的区别? . 
6、什么是索引?  
7、索引有哪些优缺点?  
8、索引有哪几种类型?  
9、MYSQL 中有哪几种锁?  
10、MYSQL 中 INNODB 支持的四种事务隔离级别名称，以及逐级之间的区别? . 
11、CHAR 和 VARCHAR 的区别? 
12、主键和候选键有什么区别? 
13、如何在 UNIX 和 MYSQL 时间戳之间进行转换? . 
14、MYISAM 表类型将在哪里存储，并且还提供其存储格式?  
15、MYSQL 里记录货币用什么字段类型好  
16、创建索引时需要注意什么? 
17、使用索引查询一定能提高查询的性能吗?为什么  
18、百万级别或以上的数据如何删除  
19、什么是最左前缀原则?什么是最左匹配原则 . 
20、什么是聚簇索引?何时使用聚簇索引与非聚簇索引 . 
21、MYSQL 连接器  
22、MYSQL 查询缓存 
23、MYSQL 分析器  
24、MYSQL 优化器  
25、MYSQL 执行器  
26、什么是临时表，何时删除临时表?  
27、谈谈 SQL 优化的经验. 
28、什么叫外链接? . 
29、什么叫内链接? . 
30、使用 UNION 和 UNION ALL 时需要注意些什么? 
31、MYISAM 存储引擎的特点 . 
32、INNODB 存储引擎的特点. 

## LINUX . 
1、什么是 LINUX  
2、UNIX 和 LINUX 有什么区别? . 
3、什么是 LINUX 内核? 
4、LINUX 的基本组件是什么?. 
5、LINUX 的体系结构 . 
6、BASH 和 DOS 之间的基本区别是什么? . 
7、LINUX 开机启动过程?
8、LINUX 系统缺省的运行级别?  
9、LINUX 使用的进程间通信方式? . 
⚫ 管道(pipe)、流管道(s_pipe)、有名管道(FIFO) ⚫ 信号(signal)
⚫ 消息队列
⚫ 共享内存
⚫ 信号量
⚫ 套接字(socket)
10、LINUX 有哪些系统日志文件? 
比较重要的是 /var/log/messages 日志文件。
11、LINUX 系统安装多个桌面环境有帮助吗?  
12、什么是交换空间?  
交换空间是 Linux 使用的一定空间，用于临时保存一些并发运行的程序。当 RAM 没有足够的内存来容纳正在执行的所有程序时，就会发生这种情况。
13、什么是 ROOT 帐户  
14、什么是 LILO?. 
LILO 是 Linux 的引导加载程序。它主要用于将 Linux 操作系统加载到主内存 中，以便它可以开始运行。
15、什么是 BASH?. 
16、什么是 CLI? . 
17、什么是 GUI?  
18、开源的优势是什么? 
19、GNU 项目的重要性是什么?  
这种所谓的自由软件运动具有多种优势，例如可以自由地运行程序以及根据你 的需要自由学习和修改程序。它还允许你将软件副本重新分发给其他人

## 缓存. 
1、缓存如何实现高性能? . 
2、缓存如何实现高并发? . 
3、REDIS 和 MEMCACHED 的区别 . 
4、用缓存可能出现的问题 . 
5、当查询缓存报错，怎么提高可用性? 
6、如果避免缓存“穿透”的问题? . 
7、如何避免缓存“雪崩”的问题? . 
8、如果避免缓存“击穿”的问题? . 
9、什么是缓存预热?如何实现缓存预热? . 
10、缓存数据的淘汰策略有哪些? . 

## 网络和操作系统  
1、进程和线程的区别?  
⚫ 调度:进程是资源管理的基本单位，线程是程序执行的基本单位。
⚫ 切换:线程上下文切换比进程上下文切换要快得多。
⚫ 拥有资源: 进程是拥有资源的一个独立单位，线程不拥有系统资源，但是可以访问隶属于进程的资源。
⚫ 系统开销: 创建或撤销进程时，系统都要为之分配或回收系统资源，如内存空间，I/O 设备等，OS 所付出的开销显著大于在创建或撤销线程时的开 销，进程切换的开销也远大于线程切换的开销。
2、协程与线程的区别?  
⚫ 线程和进程都是同步机制，而协程是异步机制。
⚫ 线程是抢占式，而协程是非抢占式的。需要用户释放使用权切换到其他协程，因此同一时间其实只有一个协程拥有运行权，相当于单线程的能力。
⚫ 一个线程可以有多个协程，一个进程也可以有多个协程。
⚫ 协程不被操作系统内核管理，而完全是由程序控制。线程是被分割的CPU资源，协程是组织好的代码流程，线程是协程的资源。但协程不会直接使用线程，协程直接利用的是执行器关联任意线程或线程池。
⚫ 协程能保留上一次调用时的状态。

3、并发和并行有什么区别?. 
4、进程与线程的切换流程?. 
进程切换分两步: 1、切换页表以使用新的地址空间，一旦去切换上下文，处理器中所有已经缓存 的内存地址一瞬间都作废了。2、切换内核栈和硬件上下文。
线程和进程的最大区别就在于地址空间，对于线程切换，第 1 步是不需要做的，第 2 步是进程和线程切换都要做的。

5、为什么虚拟地址空间切换会比较耗时? . 
当进程切换后页表也要进行切换，页表切换后 TLB 就失效了。

6、进程间通信方式有哪些?. 
管道:管道这种通讯方式有两种限制，一是半双工的通信，数据只能单向流 动，二是只能在具有亲缘关系的进程间使用。进程的亲缘关系通常是指父子进 程关系。 管道可以分为两类:匿名管道和命名管道。匿名管道是单向的，只能在有亲缘 关系的进程间通信;命名管道以磁盘文件的方式存在，可以实现本机任意两个 进程通信。 信号:信号是一种比较复杂的通信方式，信号可以在任何时候发给某一进程， 而无需知道该进程的状态。
Linux 系统中常用信号: (1)SIGHUP:用户从终端注销，所有已启动进程都将收到该进程。系统缺省状 态下对该信号的处理是终止进程。 (2)SIGINT:程序终止信号。程序运行过程中，按 Ctrl+C 键将产生该信号。 (3)SIGQUIT:程序退出信号。程序运行过程中，按 Ctrl+\\键将产生该信 号。(4)SIGBUS 和 SIGSEGV:进程访问非法地址。 (5)SIGFPE:运算中出现致命错误，如除零操作、数据溢出等。 (6)SIGKILL:用户终止进程执行信号。shell 下执行 kill -9 发送该信号。 (7)SIGTERM:结束进程信号。shell 下执行 kill 进程 pid 发送该信号。 (8)SIGALRM:定时器信号。 (9)SIGCLD:子进程退出信号。如果其父进程没有忽略该信号也没有处理该信 号，则子进程退出后将形成僵尸进程。
⚫ 信号量:信号量是一个计数器，可以用来控制多个进程对共享资源的访 问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也 访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步 手段。
⚫ 消息队列:消息队列是消息的链接表，包括 Posix 消息队列和 System V 消 息队列。有足够权限的进程可以向队列中添加消息，被赋予读权限的进程则可以读走队列中的消息。消息队列克服了信号承载信息量少，管道只能承载无格式字节流以及缓冲区大小受限等缺点。
⚫ 共享内存:共享内存就是映射一段能被其他进程所访问的内存，这段共享内存由一个进程创建，但多个进程都可以访问。共享内存是最快的 IPC 方 式，它是针对其他进程间通信方式运行效率低而专门设计的。它往往与其 他通信机制，如信号量，配合使用，来实现进程间的同步和通信。
⚫ Socket:与其他通信机制不同的是，它可用于不同机器间的进程通信。 优缺点:
⚫ 管道:速度慢，容量有限;
⚫ Socket:任何进程间都能通讯，但速度慢;
⚫ 消息队列:容量受到系统限制，且要注意第一次读的时候，要考虑上一次没有读完数据的问题;
⚫ 信号量:不能传递复杂消息，只能用来同步;
⚫ 共享内存区:能够很容易控制容量，速度快，但要保持同步，比如一个进程在写的时候，另一个进程要注意读写的问题，相当于线程中的线程安 全，当然，共享内存区同样可以用作线程间通讯，不过没这个必要，线程 间本来就已经共享了同一进程内的一块内存。


7、进程间同步的方式有哪些?
8、线程同步的方式有哪些?
9、线程的分类?
用户级线程(user-level thread, ULT)和内核 级线程(kernel-level, KLT)
10、什么是临界区，如何解决冲突?
11、什么是死锁?死锁产生的条件?
12、进程调度策略有哪几种?
13、进程有哪些状态?
14、什么是分页? 
15、什么是分段? 
16、分页和分段有什区别? 
17、什么是交换空间?
16、页面替换算法有哪些? 
18、什么是缓冲区溢出?有什么危害? 
19、什么是虚拟内存?
20、讲一讲 IO 多路复用? 
21、硬链接和软链接有什么区别? 
22、中断的处理过程? .
23、中断和轮询有什么区别?
24、请详细介绍一下 TCP 的三次握手机制，为什么要三次握手?
25、讲一讲 SYN 超时，洪泛攻击，以及解决策略
26、详细介绍一下 TCP 的四次挥手机制，为什么要有 TIME_WAIT 状态，为什么需要四次握 手?服务器出现了大量 CLOSE_WAIT 状态如何解决? 113

## 消息队列 
1、KAFKA 是什么?主要应用场景有哪些?.113
2、和其他消息队列相比，KAFKA 的优势在哪里?
3、什么是 PRODUCER、CONSUMER、BROKER、TOPIC、PARTITION?
4、KAFKA 的多副本机制了解吗? 
5、KAFKA 的多分区(PARTITION)以及多副本(REPLICA)机制有什么好处呢?1
6、ZOOKEEPER 在 KAFKA 中的作用知道吗?1
7、KAFKA 如何保证消息的消费顺序?
 1 个 Topic 只对应一个 Partition。
⚫ 发送消息的时候指定 key/Partition。

8、KAFKA 如何保证消息不丢失? 
9、KAFKA 判断一个节点是否还活着有那两个条件?
zk心跳、 follower跟进

10、PRODUCER 是否直接将数据发送到 BROKER 的 LEADER(主节点)?
11、KAFKA CONSUMER 是否可以消费指定分区消息吗?1
12、KAFKA 高效文件存储设计特点是什么?
13、PARTITION 的数据如何保存到硬盘?1
14、KAFKA 生产数据时数据的分组策略是怎样的?
15、CONSUMER 是推还是拉?
16、KAFKA 维护消费状态跟踪的方法有什么? 121

## 分布式.
1、分布式服务接口的幂等性如何设计?1
2、分布式系统中的接口调用如何保证顺序性?1
3、说说 ZOOKEEPER 一般都有哪些使用场景?
4、说说你们的分布式 SESSION 方案是啥?怎么做的?
5、分布式事务了解吗?
XA/TCC/本地消息表/可靠消息队列/最大努力通知
6、那常见的分布式锁有哪些解决方案?

7、ZK 和 REDIS 的区别，各自有什么优缺点?
8、MYSQL 如何做分布式锁?1
udx记录。
9、你了解业界哪些大公司的分布式锁框架 
chubby、sharkLock、curator、
10、请讲一下你对 CAP 理论的理解1
11、请讲一下你对 BASE 理论的理解
12、分布式与集群的区别是什么? 
13、请讲一下 BASE 理论的三要素
14、请说一下对两阶段提交协议的理解 
15、请讲一下对 TCC 协议的理解.


